<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–¢–∞—î–º–Ω–∏–π –°–∞–Ω—Ç–∞</title>

<style>
    * {
        box-sizing: border-box;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial;
    }

    body {
        margin: 0;
        height: 100vh;
        background: linear-gradient(135deg, #ff4e50, #f9d423);
        display: flex;
        justify-content: center;
        align-items: center;
    }

    .phone {
        width: 360px;
        max-width: 95%;
        height: 640px;
        background: #fff;
        border-radius: 30px;
        box-shadow: 0 20px 40px rgba(0,0,0,0.25);
        padding: 25px 20px;
        display: flex;
        flex-direction: column;
    }

    .header {
        text-align: center;
        font-size: 22px;
        font-weight: 600;
        margin-bottom: 30px;
    }

    .header span {
        font-size: 26px;
        margin-right: 5px;
    }

    .content {
        flex: 1;
        display: flex;
        flex-direction: column;
        justify-content: center;
    }

    input {
        width: 100%;
        padding: 14px;
        font-size: 16px;
        border-radius: 12px;
        border: 1px solid #ddd;
        margin-bottom: 20px;
        text-align: center;
    }

    input:disabled {
        background: #f2f2f2;
    }

    button {
        padding: 14px;
        font-size: 16px;
        border-radius: 12px;
        border: none;
        background: #ff4e50;
        color: white;
        cursor: pointer;
        transition: 0.3s;
    }

    button:hover {
        background: #e64547;
    }

    #result {
        margin-top: 25px;
        text-align: center;
        font-size: 18px;
        font-weight: 600;
        min-height: 24px;
    }

    .footer {
        text-align: center;
        font-size: 12px;
        color: #999;
        margin-top: 10px;
    }
</style>
</head>
<body>

<div class="phone">
    <div class="header"><span>üéÖ</span>–¢–∞—î–º–Ω–∏–π –°–∞–Ω—Ç–∞</div>

    <div class="content">
        <input type="text" id="nameInput" placeholder="–í–≤–µ–¥–∏ —Å–≤–æ—î —ñ–º º—è">
        <button onclick="showResult()">–î—ñ–∑–Ω–∞—Ç–∏—Å—å</button>
        <button onclick="adminReset()" style="margin-top:15px;background:#555;font-size:14px;">
    üîÑ –†–µ—Å—Ç–∞—Ä—Ç (–∞–¥–º—ñ–Ω)
</button>

        <div id="result"></div>
    </div>

    <div class="footer">Secret Santa App</div>
</div>

<script>
    const people = [
        "–ê–Ω–¥—Ä—ñ–π",
        "–ö–æ—Å—Ç—è",
        "–Ü–≥–æ—Ä",
        "–ê—Ä—Ç—É—Ä",
        "–Ü–≤–∞–Ω–∫–∞",
        "–ú–∞—Ä—ñ–∞–Ω–Ω–∞",
        "–í—ñ–∫–∞",
        "–Æ–ª—è"
    ];

    const STORAGE_KEY = "secret_santa_pairs";
    const USED_KEY = "secret_santa_used";
    const ADMIN_PASSWORD = "admin123"; // –∑–º—ñ–Ω–∏ –∑–∞ –ø–æ—Ç—Ä–µ–±–∏

    let pairs = {};
    let used = [];

    function generatePairs(list) {
        let shuffled;
        do {
            shuffled = [...list].sort(() => Math.random() - 0.5);
        } while (shuffled.some((name, i) => name === list[i]));

        const result = {};
        list.forEach((name, i) => {
            result[name.toLowerCase()] = shuffled[i];
        });
        return result;
    }

    function initGame() {
        const storedPairs = localStorage.getItem(STORAGE_KEY);
        const storedUsed = localStorage.getItem(USED_KEY);

        if (storedPairs && storedUsed) {
            pairs = JSON.parse(storedPairs);
            used = JSON.parse(storedUsed);
        } else {
            pairs = generatePairs(people);
            used = [];
            localStorage.setItem(STORAGE_KEY, JSON.stringify(pairs));
            localStorage.setItem(USED_KEY, JSON.stringify(used));
        }
    }

    initGame();

    function showResult() {
        const input = document.getElementById("nameInput");
        const result = document.getElementById("result");
        const name = input.value.trim().toLowerCase();

        if (!pairs[name]) {
            result.textContent = "‚ùå –Ü–º º—è –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ";
            return;
        }

        if (used.includes(name)) {
            result.textContent = "‚õî –¢–∏ –≤–∂–µ –¥—ñ–∑–Ω–∞–≤—Å—è —Å–≤—ñ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç";
            input.disabled = true;
            return;
        }

        result.textContent = "üéÅ –¢–∏ –¥–∞—Ä—É—î—à –ø–æ–¥–∞—Ä—É–Ω–æ–∫: " + pairs[name];

        used.push(name);
        localStorage.setItem(USED_KEY, JSON.stringify(used));
        input.disabled = true;
    }

    function adminReset() {
        const ADMIN_PASSWORD = "admin123";
        const pass = prompt("–í–≤–µ–¥–∏ –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∞:");
        if (pass !== ADMIN_PASSWORD) {
            alert("‚ùå –ù–µ–≤—ñ—Ä–Ω–∏–π –ø–∞—Ä–æ–ª—å");
            return;
        }

        pairs = generatePairs(people);
        used = [];

        localStorage.setItem(STORAGE_KEY, JSON.stringify(pairs));
        localStorage.setItem(USED_KEY, JSON.stringify(used));

        alert("‚úÖ –ì—Ä—É –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ");
        location.reload();
    }
</script>


</body>
</html>







